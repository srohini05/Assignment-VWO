# Drag and Drop

[@steveruizok](http://twitter.com/steveruizok)

Drag and drop, powered by [react-beautiful-dnd](https://github.com/atlassian/react-beautiful-dnd). Connect your frames and drag them around. You can use overrides to style the list and items and to handle events using callbacks.

ðŸŽ‰ New in this version:

- In earlier versions, an override that included a reference to a `Data` object would cause the compoent to lose its state. Thatâ€™s fixed now!

## Usage

You can control the router through overrides. See below for examples.

### Properties

prop | type
----------- | ---|
`items`|`any[]`|`[]`
`onItemsAddedOrRemoved` | `(items: any[]) => any`|
`onBeforeDragStart`| `(items: any[], props: any) => any`|
`onDragStart`|`(items: any[], props: any) => any`|
`onDragUpdate`| `(items: any[], props: any) => any`|
`onDragEnd`|`(items: any[], props: any) => any`|
`getListStyle`|`(isDraggingOver: boolean, props: Props) => React.CSSProperties`|
`getItemStyle` | `(isDragging: boolean, draggableStyle: any, props: Props) => React.CSSProperties`
`stretch`| `boolean` | false
`direction` | `string` (`horizontal` or `vertical`)
`gap` | `number`
`padding` | `number`
`paddingPerSide` | `number`
`paddingTop` | `number`
`paddingRight` | `number`
`paddingLeft` | `number`
`paddingBottom` | `number`

## Style Functions

To style your list and items, you may override the `getListStyle` and `getItemStyle` functions. Here are the defaults:

******
### getItemStyle

```
const getItemStyle: GetItemStyleFunction = (
	isDragging: boolean,
	draggableStyle: any,
	props: Props
) => ({
	userSelect: 'none',
	boxShadow: isDragging ? '0 5px 5px 5px rgba(0,0,0,.2)' : 'none',
	...draggableStyle,
})
```
******

### getListStyle

```
const getListStyle: ListStyleFuncton = (
	isDraggingOver: boolean,
	props: Props
) => {
	const {
		gap,
		paddingPerSide,
		padding,
		paddingTop,
		paddingRight,
		paddingBottom,
		paddingLeft,
		direction,
	} = props

	return {
		width: '100%',
		display: 'grid',
		gridAutoFlow: direction === 'horizontal' ? 'column' : 'row',
		justifyItems: 'center',
		justifyContent: 'center',
		alignItems: 'center',
		gridAutoRows: 'min-content',
		gridAutoColumns: 'min-content',
		gridGap: gap,
		padding: paddingPerSide
			? [paddingTop, paddingRight, paddingBottom, paddingLeft].join('px ') +
			  'px'
			: padding,
	}
}```

## Event Handlers

You can get a lot of information out of a DragAndDrop component by overriding certain event handlers:

******
### onItemsAddedOrRemoved(items: ComponentInstance[])

Whenever new frames are connected to the component, itâ€™ll fire off this event with the list of items.

**Arguments**

`items` (`ComponentInstance[]`): The componentâ€™s array of connected components.

```jsx
export const dragAndDropOverride: Override = (props) => ({
    onItemsAddedOrRemoved(items: any[]) {
        console.log('Started with these items:', items)
    }
})
```

******

### onBeforeDragStart(items: ComponentInstance[], args: any)

Fires just before a new dragging operation begins.

**Arguments**

`items` (`ComponentInstance[]`): The componentâ€™s array of connected components in its current sort order.

`args` (`any`): Default `react-beautiful-dnd` arguments for this callback.

```jsx
export const dragAndDropOverride: Override = (props) => ({
    onBeforeDragStart(items: any[], args: any) {
        console.log(â€˜Drag about to begin with these items:', items)
    }
})
```

******

### onDragStart(items: ComponentInstance[], args: any)

Fires when a new dragging operation begins.

**Arguments**

`items` (`ComponentInstance[]`): The componentâ€™s array of connected components in its current sort order.

`args` (`any`): Default `react-beautiful-dnd` arguments for this callback.

```jsx
export const dragAndDropOverride: Override = (props) => ({
    onDragStart(items: any[], args: any) {
        console.log(â€˜Drag began with these items:', items)
    }
})
```
******

### onDragUpdate(items: ComponentInstance[], args: any)

Fires when a new dragging updates. Note that the items given to this call back may not have a new fixed order. (If youâ€™re looking to handle the new sort order, check the `onDragEnd` method).

**Arguments**

`items` (`ComponentInstance[]`): The componentâ€™s array of connected components in its current sort order.

`args` (`any`): Default `react-beautiful-dnd` arguments for this callback.

```jsx
export const dragAndDropOverride: Override = (props) => ({
    onDragUpdate(items: any[], args: any) {
        console.log(â€˜Drag updated with these items:', items)
    }
})
```

******

### onDragEnd(items: ComponentInstance[], args: any)

Fires when a dragging operation ends. Contains the newly sorted items.

**Arguments**

`items` (`ComponentInstance[]`): The componentâ€™s array of connected components in new current sort order.

`args` (`any`): Default `react-beautiful-dnd` arguments for this callback.

```jsx
export const dragAndDropOverride: Override = (props) => ({
    onDragEnd(items: any[], args: any) {
        console.log(â€˜Drag ended with these items:', items)
    }
})
```


### Changelog

#### 1.2.0
- In earlier versions, any override that included a reference to a `Data` object would cause the compoent to lose its state. Thatâ€™s fixed!

#### 1.0.0

- Single column sorting
- Horizontal and Vertical